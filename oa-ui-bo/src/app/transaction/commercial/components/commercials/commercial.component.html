<div>

  <mat-card>

    <mat-card-title>EDC Generator Commercial Details</mat-card-title>

    <mat-card-content>

      <div fxLayout="row" fxLayoutAlign="start center">

        <mat-form-field class="ml-xs mr-xs" style="width: 20%;">
          <input (keydown)="numberFormat($event)" type="text"  onKeyPress="if(this.value.length==12) return false;" matInput placeholder="Seller Company Service No" [(ngModel)]="searchServiceNo">
          <small *ngIf="error" class="mat-text-warn"> {{message}}</small>
        </mat-form-field>

        <mat-card-actions>
          <button mat-raised-button color="primary" class="primary" (click)="ValidateItem()">Search</button>
        </mat-card-actions>

        <mat-form-field class="ml-xs mr-xs" style="width: 40%;">
          <input matInput placeholder="Seller End EDC" readonly [(ngModel)]="sellerEndEdc">
        </mat-form-field>

        <mat-form-field class="ml-xs mr-xs" style="width: 40%;">
          <input matInput placeholder="Seller Company Name" [(ngModel)]="sellerCompanyName" readonly>
        </mat-form-field>

        <mat-form-field class="ml-xs mr-xs" style="width: 40%;">
          <input matInput placeholder="Fuel Type" [(ngModel)]="fuelType" readonly>
        </mat-form-field>

      </div>

      <div class="dateField" fxLayout="row" fxLayoutAlign="start center">
        <mat-form-field class="ml-xs mr-xs" style="width: 40%;">
          <input matInput placeholder="Flow Type Code" [(ngModel)]="flowTypeCode" readonly>
       </mat-form-field>

        <mat-form-field class="ml-xs mr-xs" fxFlex.gt-sm="50%">
          <input matInput [(ngModel)]="fromDateSTR" [matDatepicker]="fromDate" placeholder="From Date STR">
          <mat-hint>DD/MM/YYYY</mat-hint>
          <mat-datepicker-toggle matSuffix [for]="fromDate"></mat-datepicker-toggle>
          <mat-datepicker #fromDate></mat-datepicker>
        </mat-form-field>

        <mat-form-field class="ml-xs mr-xs" fxFlex.gt-sm="50%">
          <input matInput [(ngModel)]="toDateSTR" [matDatepicker]="toDate" placeholder="To Date STR">
          <mat-hint>DD/MM/YYYY</mat-hint>
          <mat-datepicker-toggle matSuffix [for]="toDate"></mat-datepicker-toggle>
          <mat-datepicker #toDate></mat-datepicker>
        </mat-form-field>

        <mat-form-field class="ml-xs mr-xs" fxFlex.gt-sm="50%">
          <input matInput [(ngModel)]="dateOfAggrement" [matDatepicker]="aggrementDate" placeholder="Date Of Aggrement">
          <mat-hint>DD/MM/YYYY</mat-hint>
          <mat-datepicker-toggle matSuffix [for]="aggrementDate"></mat-datepicker-toggle>
          <mat-datepicker #aggrementDate></mat-datepicker>
        </mat-form-field>
      </div>

      <mat-form-field style="width: 25%; margin-top: 10px; margin-left: 9px;">
        <input matInput placeholder="Date Of Commission" [(ngModel)]="commissionDate" readonly>
      </mat-form-field>

    </mat-card-content>

    <!-- <button class="fa fa-plus " (click)="addRow()">Add Row</button> -->
    <mat-card-content>

      <br><br>
      <div class="plusButton">
        <button mat-mini-fab color="primary" (click)="addRow()" aria-label="Example icon button with a plus one icon">
          <mat-icon>plus_one</mat-icon>
        </button>
      </div>

      <table id="buyerTable">

        <thead>
          <tr>
            <td class="tdBorderEmail"><label>Buyer Service Number</label></td>
            <td class="tdBorderEmail"><label>Buyer Company Name</label></td>
            <td class="tdBorderEmail"><label>Buyer End EDC</label></td>
            <td class="tdBorderEmail" style="width:47%;"><label>Action</label></td>
          </tr>
        </thead>

        <tbody>

          <tr *ngFor="let dynamic of dynamicArray; let i = index">

            <td class="d-flex">
              <input (keydown)="numberFormat($event)" type="text"  onKeyPress="if(this.value.length==12) return false;" name="{{dynamic.buyerServiceNo}}" [(ngModel)]="dynamic.buyerServiceNo"
                placeholder="Enter Buyer Service No" />
              <button id="buyerButton" *ngIf="dynamic.buyerServiceNo" (click)="fetchBuyer(i)">
                <mat-icon color="primary">search</mat-icon>
              </button>
            </td>

            <td>
              <input readonly name="{{dynamic.buyerCompanyName}}" [(ngModel)]="dynamic.buyerCompanyName" type="text"
                placeholder="Company Name" />
            </td>

            <td>
              <input readonly name="{{dynamic.buyerEndEDC}}" [(ngModel)]="dynamic.buyerEndEDC" type="text"
                placeholder="Buyer EDC" />
            </td>

            <td style="text-align :center; width:50%;">
              <div>
                <button mat-icon-button color="primary" (click)="deleteRow(i)" placeholder="Delete">
                  <mat-icon>delete</mat-icon>
                </button>
              </div>
            </td>

        </tbody>
      </table>

      <mat-card-actions align="end">
        <button mat-raised-button color="primary" class="primary" (click)="saveCommercials()">save</button>
      </mat-card-actions>

    </mat-card-content>

  </mat-card>

</div>