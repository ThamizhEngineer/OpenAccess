<mat-card>
  <mat-card-title>
    Period Based Amendment Report
  </mat-card-title>
  <mat-card-content>
    <div fxLayout="row" fxLayoutAlign="start center">
      <mat-form-field class="ml-xs mr-xs"  fxFlex.gt-sm="100%">
        <mat-select class="ml-xs mr-xs" style="width: 100%;" placeholder="Agreement Period" [(ngModel)]='selectedAgreePeriod'>
          <mat-option *ngFor="let period of periodCodes" [value]="period.valueCode">
                {{period.valueDesc}}
          </mat-option>
        </mat-select>
      </mat-form-field>
      <mat-form-field class="ml-xs mr-xs"  fxFlex.gt-sm="100%">
        <mat-select class="ml-xs mr-xs" style="width: 100%;" placeholder="Amendment Type" [(ngModel)]='selectedAmendmentType'>
          <mat-option *ngFor="let amendmentType of amendmentTypes" [value]="amendmentType.key">
                {{amendmentType.name}}
          </mat-option>
        </mat-select>
      </mat-form-field>
      <mat-form-field class="ml-xs mr-xs"  fxFlex.gt-sm="100%">
        <mat-select class="ml-xs mr-xs" style="width: 100%;" placeholder="Month" [(ngModel)]='selectedMonth'>
          <mat-option *ngFor="let month of months" [value]="month.value">
            {{month.name}}
          </mat-option>
        </mat-select>
      </mat-form-field>

      <mat-form-field>
          <input matInput placeholder="Year" [(ngModel)]="selectedYear">
      </mat-form-field>

      <mat-card-actions>
        <button mat-raised-button color="primary" class="primary" (click)="searchReport()">Search</button>
      </mat-card-actions>

    </div>
    <br/>

    <ngx-datatable class="material" [rows]="rows" [columnMode]="'force'" [headerHeight]="50" [footerHeight]="50" [rowHeight]="'auto'">
      <ngx-datatable-column name="Agreement Period">
				<ng-template let-row="row" let-value="value" ngx-datatable-cell-template>
					{{row.op1}}
				</ng-template>
      </ngx-datatable-column>
      
      <ngx-datatable-column name="Month">
				<ng-template let-row="row" let-value="value" ngx-datatable-cell-template>
					{{row.op6}}
				</ng-template>
      </ngx-datatable-column>
      
      <ngx-datatable-column name="Year">
				<ng-template let-row="row" let-value="value" ngx-datatable-cell-template>
					{{row.op7}}
				</ng-template>
      </ngx-datatable-column>
      
      <ngx-datatable-column name="Amendment Type">
				<ng-template let-row="row" let-value="value" ngx-datatable-cell-template>
					{{row.op2}}
				</ng-template>
      </ngx-datatable-column>
      
      <ngx-datatable-column name="Total No. of Applications Received">
				<ng-template let-row="row" let-value="value" ngx-datatable-cell-template>
					{{row.op3}}
				</ng-template>
      </ngx-datatable-column>
      
      <ngx-datatable-column name="No. of CPP Users">
				<ng-template let-row="row" let-value="value" ngx-datatable-cell-template>
					{{row.op4}}
				</ng-template>
      </ngx-datatable-column>
      
      <ngx-datatable-column name="No. of Non CPP Users">
				<ng-template let-row="row" let-value="value" ngx-datatable-cell-template>
					{{row.op5}}
				</ng-template>
      </ngx-datatable-column>
      
      <ngx-datatable-column name="InProcess">
				<ng-template let-row="row" let-value="value" ngx-datatable-cell-template>
					{{row.op8}}
				</ng-template>
      </ngx-datatable-column>
      
      <ngx-datatable-column name="Cleared">
				<ng-template let-row="row" let-value="value" ngx-datatable-cell-template>
					{{row.op9}}
				</ng-template>
      </ngx-datatable-column>
      
      <ngx-datatable-column name="Returned">
				<ng-template let-row="row" let-value="value" ngx-datatable-cell-template>
					{{row.op10}}
				</ng-template>
			</ngx-datatable-column>
    </ngx-datatable>
  </mat-card-content>
</mat-card>